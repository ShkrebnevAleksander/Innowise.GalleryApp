<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:Gallery.ViewModels"
             xmlns:converters="clr-namespace:Gallery.Converters"
             x:DataType="viewmodels:DetailViewModel"
             x:Class="Gallery.Views.DetailPage"
             Title="Details">
    <ContentPage.Resources>
        <converters:BoolToFavoriteTextConverter x:Key="FavoriteButtonTextConverter" />
    </ContentPage.Resources>
    <ScrollView>
        <VerticalStackLayout Spacing="10" Padding="10">

            <Image Aspect="AspectFit"
                   Source="{Binding Photo.Urls.Regular}"
                   HeightRequest="300"/>

            <Label Text="{Binding Photo.DisplayDescription}"
                   FontSize="Body"
                   FontAttributes="Italic"/>

            <Label FontSize="Small">
                <Label.FormattedText>
                    <FormattedString>
                        <Span Text="Photo by: "/>
                        <Span Text="{Binding Photo.User.Name}" FontAttributes="Bold"/>
                    </FormattedString>
                </Label.FormattedText>
            </Label>

          
            <ImageButton Command="{Binding ToggleFavoriteCommand}"
             Source="{Binding IsFavorite, Converter={StaticResource FavoriteButtonTextConverter}}"
             HeightRequest="50"
             WidthRequest="50"
             HorizontalOptions="Center"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>